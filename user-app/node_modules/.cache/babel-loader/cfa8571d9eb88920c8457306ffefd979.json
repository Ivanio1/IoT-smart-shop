{"ast":null,"code":"import { BaseUiElementFactory, PublicUiElementIdAndClasses } from \"./base\";\nimport { Html5QrcodeScannerStrings } from \"../../strings\";\n\nvar CameraSelectionUi = function () {\n  function CameraSelectionUi(cameras) {\n    this.selectElement = BaseUiElementFactory.createElement(\"select\", PublicUiElementIdAndClasses.CAMERA_SELECTION_SELECT_ID);\n    this.cameras = cameras;\n    this.options = [];\n  }\n\n  CameraSelectionUi.prototype.render = function (parentElement) {\n    var cameraSelectionContainer = document.createElement(\"span\");\n    cameraSelectionContainer.style.marginRight = \"10px\";\n    var numCameras = this.cameras.length;\n\n    if (numCameras === 0) {\n      throw new Error(\"No cameras found\");\n    }\n\n    if (numCameras === 1) {\n      cameraSelectionContainer.style.display = \"none\";\n    } else {\n      var selectCameraString = Html5QrcodeScannerStrings.selectCamera();\n      cameraSelectionContainer.innerText = \"\".concat(selectCameraString, \" (\").concat(this.cameras.length, \")  \");\n    }\n\n    var anonymousCameraId = 1;\n\n    for (var _i = 0, _a = this.cameras; _i < _a.length; _i++) {\n      var camera = _a[_i];\n      var value = camera.id;\n      var name_1 = camera.label == null ? value : camera.label;\n\n      if (!name_1 || name_1 === \"\") {\n        name_1 = [Html5QrcodeScannerStrings.anonymousCameraPrefix(), anonymousCameraId++].join(\" \");\n      }\n\n      var option = document.createElement(\"option\");\n      option.value = value;\n      option.innerText = name_1;\n      this.options.push(option);\n      this.selectElement.appendChild(option);\n    }\n\n    cameraSelectionContainer.appendChild(this.selectElement);\n    parentElement.appendChild(cameraSelectionContainer);\n  };\n\n  CameraSelectionUi.prototype.disable = function () {\n    this.selectElement.disabled = true;\n  };\n\n  CameraSelectionUi.prototype.isDisabled = function () {\n    return this.selectElement.disabled === true;\n  };\n\n  CameraSelectionUi.prototype.enable = function () {\n    this.selectElement.disabled = false;\n  };\n\n  CameraSelectionUi.prototype.getValue = function () {\n    return this.selectElement.value;\n  };\n\n  CameraSelectionUi.prototype.hasValue = function (value) {\n    for (var _i = 0, _a = this.options; _i < _a.length; _i++) {\n      var option = _a[_i];\n\n      if (option.value === value) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  CameraSelectionUi.prototype.setValue = function (value) {\n    if (!this.hasValue(value)) {\n      throw new Error(\"\".concat(value, \" is not present in the camera list.\"));\n    }\n\n    this.selectElement.value = value;\n  };\n\n  CameraSelectionUi.prototype.hasSingleItem = function () {\n    return this.cameras.length === 1;\n  };\n\n  CameraSelectionUi.prototype.numCameras = function () {\n    return this.cameras.length;\n  };\n\n  CameraSelectionUi.create = function (parentElement, cameras) {\n    var cameraSelectUi = new CameraSelectionUi(cameras);\n    cameraSelectUi.render(parentElement);\n    return cameraSelectUi;\n  };\n\n  return CameraSelectionUi;\n}();\n\nexport { CameraSelectionUi };","map":{"version":3,"sources":["../../../../src/ui/scanner/camera-selection-ui.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["import { BaseUiElementFactory, PublicUiElementIdAndClasses } from \"./base\";\nimport { Html5QrcodeScannerStrings } from \"../../strings\";\nvar CameraSelectionUi = (function () {\n    function CameraSelectionUi(cameras) {\n        this.selectElement = BaseUiElementFactory\n            .createElement(\"select\", PublicUiElementIdAndClasses.CAMERA_SELECTION_SELECT_ID);\n        this.cameras = cameras;\n        this.options = [];\n    }\n    CameraSelectionUi.prototype.render = function (parentElement) {\n        var cameraSelectionContainer = document.createElement(\"span\");\n        cameraSelectionContainer.style.marginRight = \"10px\";\n        var numCameras = this.cameras.length;\n        if (numCameras === 0) {\n            throw new Error(\"No cameras found\");\n        }\n        if (numCameras === 1) {\n            cameraSelectionContainer.style.display = \"none\";\n        }\n        else {\n            var selectCameraString = Html5QrcodeScannerStrings.selectCamera();\n            cameraSelectionContainer.innerText\n                = \"\".concat(selectCameraString, \" (\").concat(this.cameras.length, \")  \");\n        }\n        var anonymousCameraId = 1;\n        for (var _i = 0, _a = this.cameras; _i < _a.length; _i++) {\n            var camera = _a[_i];\n            var value = camera.id;\n            var name_1 = camera.label == null ? value : camera.label;\n            if (!name_1 || name_1 === \"\") {\n                name_1 = [\n                    Html5QrcodeScannerStrings.anonymousCameraPrefix(),\n                    anonymousCameraId++\n                ].join(\" \");\n            }\n            var option = document.createElement(\"option\");\n            option.value = value;\n            option.innerText = name_1;\n            this.options.push(option);\n            this.selectElement.appendChild(option);\n        }\n        cameraSelectionContainer.appendChild(this.selectElement);\n        parentElement.appendChild(cameraSelectionContainer);\n    };\n    CameraSelectionUi.prototype.disable = function () {\n        this.selectElement.disabled = true;\n    };\n    CameraSelectionUi.prototype.isDisabled = function () {\n        return this.selectElement.disabled === true;\n    };\n    CameraSelectionUi.prototype.enable = function () {\n        this.selectElement.disabled = false;\n    };\n    CameraSelectionUi.prototype.getValue = function () {\n        return this.selectElement.value;\n    };\n    CameraSelectionUi.prototype.hasValue = function (value) {\n        for (var _i = 0, _a = this.options; _i < _a.length; _i++) {\n            var option = _a[_i];\n            if (option.value === value) {\n                return true;\n            }\n        }\n        return false;\n    };\n    CameraSelectionUi.prototype.setValue = function (value) {\n        if (!this.hasValue(value)) {\n            throw new Error(\"\".concat(value, \" is not present in the camera list.\"));\n        }\n        this.selectElement.value = value;\n    };\n    CameraSelectionUi.prototype.hasSingleItem = function () {\n        return this.cameras.length === 1;\n    };\n    CameraSelectionUi.prototype.numCameras = function () {\n        return this.cameras.length;\n    };\n    CameraSelectionUi.create = function (parentElement, cameras) {\n        var cameraSelectUi = new CameraSelectionUi(cameras);\n        cameraSelectUi.render(parentElement);\n        return cameraSelectUi;\n    };\n    return CameraSelectionUi;\n}());\nexport { CameraSelectionUi };\n//# sourceMappingURL=camera-selection-ui.js.map"]},"metadata":{},"sourceType":"module"}